<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>AstraMind AI Signals</title>

  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
  <meta http-equiv="Pragma" content="no-cache" />
  <meta http-equiv="Expires" content="0" />

  <style>
    * { box-sizing: border-box; font-family: system-ui,-apple-system,Segoe UI,Roboto,Arial; }
    body{
      margin:0; color:#fff;
      min-height:100vh;
      background:
        radial-gradient(circle at 20% 20%, rgba(151, 71, 255, 0.28), transparent 55%),
        radial-gradient(circle at 80% 80%, rgba(255, 0, 153, 0.22), transparent 55%),
        radial-gradient(circle at 0% 100%, rgba(0, 255, 255, 0.14), transparent 55%),
        #060016;
      display:flex; justify-content:center;
      padding:14px;
    }

    .topbar{
      position:fixed; left:0; right:0; top:0; z-index:50;
      padding:10px 12px;
      display:flex; justify-content:space-between; align-items:center;
      background:rgba(0,0,0,.40); backdrop-filter: blur(12px);
      border-bottom:1px solid rgba(255,255,255,.08);
    }
    .badge{
      display:inline-flex; align-items:center; gap:8px;
      padding:6px 10px; border-radius:999px;
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      font-size:12px;
    }
    .dot{ width:8px; height:8px; border-radius:50%; background:#3cff7f; box-shadow:0 0 10px rgba(60,255,127,.9); }
    #onlineCount{ font-variant-numeric:tabular-nums; font-weight:900; }

    .supportBtn{
      border:0; cursor:pointer;
      padding:8px 12px; border-radius:999px;
      background:rgba(122, 98, 255, 0.18);
      border:1px solid rgba(175, 150, 255, 0.35);
      color:#fff; font-weight:800; font-size:12px;
    }

    .wrap{ width:100%; max-width:560px; padding-top:62px; padding-bottom:28px; }
    .card{
      background: rgba(4, 0, 40, 0.86);
      border:1px solid rgba(255,255,255,.10);
      border-radius:22px;
      padding:18px;
      box-shadow: 0 22px 70px rgba(0,0,0,.55);
      backdrop-filter: blur(14px);
    }

    .brandTop{
      text-align:center;
      letter-spacing:.28em;
      font-size:11px;
      opacity:.70;
      margin-bottom:6px;
    }
    .title{
      text-align:center;
      font-weight:1000;
      font-size:26px;
      margin:0 0 6px;
      letter-spacing:.06em;
      text-transform:uppercase;
    }
    .sub{
      text-align:center;
      opacity:.82;
      margin:0 0 8px;
      font-size:13px;
    }
    .build{
      text-align:center;
      font-size:11px;
      opacity:.65;
      margin-bottom:14px;
    }

    .langRow{
      display:flex; gap:8px; justify-content:center; flex-wrap:wrap;
      margin-bottom:14px;
    }
    .pill{
      border:1px solid rgba(255,255,255,.15);
      background:rgba(255,255,255,.06);
      color:#fff;
      padding:7px 10px;
      border-radius:999px;
      cursor:pointer;
      font-weight:900;
      font-size:12px;
      opacity:.90;
    }
    .pill.active{
      background:linear-gradient(120deg,#ff5ef7,#b46bff);
      color:#110020;
      border-color:rgba(255,255,255,.0);
      opacity:1;
    }

    .sectionTitle{
      font-weight:900;
      margin:12px 0 10px;
      font-size:14px;
      opacity:.95;
    }

    .game{
      display:flex; align-items:center; justify-content:space-between;
      gap:10px;
      padding:12px;
      border-radius:16px;
      background:rgba(0,0,0,.18);
      border:1px solid rgba(255,255,255,.10);
      cursor:pointer;
      margin-bottom:10px;
      transition: transform .12s ease, border-color .12s ease, background .12s ease;
    }
    .game:hover{
      transform: translateY(-1px);
      border-color: rgba(255,255,255,.22);
      background:rgba(0,0,0,.22);
    }
    .gameLeft{ display:flex; align-items:center; gap:10px; }
    .icon{
      width:42px; height:42px; border-radius:16px;
      display:flex; align-items:center; justify-content:center;
      background: radial-gradient(circle at 30% 25%, #fff, #ff85ff 35%, #431cd7 90%);
      color:#150024;
      font-size:22px;
      font-weight:1000;
      box-shadow:0 12px 24px rgba(0,0,0,.35);
      flex:0 0 auto;
    }
    .gTitle{ font-weight:1000; margin:0; font-size:14px; }
    .gSub{ margin:2px 0 0; font-size:12px; opacity:.75; }
    .tag{
      font-size:11px; opacity:.75;
      padding:4px 8px; border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      white-space:nowrap;
    }

    .btnRow{ display:flex; gap:10px; flex-wrap:wrap; margin-top:10px; }
    .btn{
      border:0; cursor:pointer; border-radius:999px;
      padding:10px 14px; font-weight:1000; font-size:13px;
    }
    .btnPrimary{
      background:linear-gradient(120deg,#ff5ef7,#b46bff);
      color:#110020;
      box-shadow:0 0 18px rgba(255,95,247,.40);
    }
    .btnGhost{
      background:rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      color:#fff;
    }

    .box{
      margin-top:12px;
      background:rgba(0,0,0,.20);
      border:1px solid rgba(255,255,255,.12);
      border-radius:16px;
      padding:12px;
      white-space:pre-line;
      font-size:13px;
      line-height:1.45;
    }

    .crashCircle{
      margin:14px auto 8px;
      width:190px; height:190px;
      border-radius:50%;
      display:flex; align-items:center; justify-content:center;
      background: radial-gradient(circle at 30% 0, #ff8fff 0%, #3b166a 45%, #050010 82%);
      box-shadow:0 0 70px rgba(255,143,255,.35);
      position:relative; overflow:hidden;
    }
    .crashCircle::before{
      content:"";
      position:absolute; inset:10%;
      border-radius:50%;
      border:2px solid rgba(255,255,255,.12);
      border-top-color:rgba(255,255,255,.85);
      animation:spin 3s linear infinite;
      opacity:.75;
    }
    .crashInner{ position:relative; z-index:2; text-align:center; }
    .coeff{ font-size:34px; font-weight:1100; letter-spacing:.04em; }
    .small{ margin-top:4px; font-size:12px; opacity:.82; }
    @keyframes spin{ from{transform:rotate(0)} to{transform:rotate(360deg)} }

    .muted{ opacity:.75; font-size:12px; margin-top:10px; text-align:center; }

    .diffRow{ display:flex; gap:8px; justify-content:center; flex-wrap:wrap; margin-top:8px; }
    .diffPill{
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.06);
      color:#fff;
      padding:7px 10px;
      border-radius:999px;
      cursor:pointer;
      font-weight:900;
      font-size:12px;
      opacity:.90;
    }
    .diffPill.active{
      background:linear-gradient(120deg,#ff5ef7,#b46bff);
      color:#110020;
      border-color:rgba(255,255,255,0);
      opacity:1;
    }

    @media (max-width: 520px){
      .title{ font-size:22px; }
      .wrap{ max-width: 100%; }
    }
  </style>
</head>
<body>

  <div class="topbar">
    <div class="badge">
      <span class="dot"></span>
      <span id="onlineLabel">Online now:</span>
      <span id="onlineCount">â€”</span>
    </div>
    <button class="supportBtn" id="supportBtn">ðŸ›Ÿ SUPPORT</button>
  </div>

  <div class="wrap">
    <div class="card" id="app"></div>
    <div class="muted" id="outsideHint" style="display:none;">
      Open this page from Telegram WebApp button, not from a regular browser.
    </div>
  </div>

  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script>
    // ===== CONFIG =====
    const BUILD = "BUILD_001";
    const SUPPORT_USERNAME = "AstraMind_support";
    const LANGS = ["en","ru","es","pt","fr"];

    // ===== i18n (Ð’Ð¡Ð Ð¿ÐµÑ€ÐµÐ²ÐµÐ´ÐµÐ½Ð¾) =====
    const I18N = {
      en:{
        brand:"ASTRAMIND AI",
        title:"AI SIGNALS",
        sub:"Choose the game you want signals for.",
        choose:"Choose a game to get a strategy:",
        bank:"Choose your bankroll:",
        under:"ðŸ’µ Under $5",
        over:"ðŸ’° From $5 and higher",
        back:"â† Back",
        get:"GET SIGNAL",
        more:"Need another one? Pick a game again ðŸ‘‡",
        online:"Online now:",
        support:"ðŸ›Ÿ SUPPORT",
        signalFor:(t)=>`Signal for ${t}`,
        crashHint:"Nearest round (~3 minutes). Play calm, no all-in.",
        diffTitle:"Difficulty:",
        diff:{ easy:"Easy", normal:"Normal", hard:"Hard" }
      },
      ru:{
        brand:"ASTRAMIND AI",
        title:"AI Ð¡Ð˜Ð“ÐÐÐ›Ð«",
        sub:"Ð’Ñ‹Ð±ÐµÑ€Ð¸ Ð¸Ð³Ñ€Ñƒ, Ð´Ð»Ñ ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð½ÑƒÐ¶Ð½Ñ‹ ÑÐ¸Ð³Ð½Ð°Ð»Ñ‹.",
        choose:"Ð’Ñ‹Ð±ÐµÑ€Ð¸ Ð¸Ð³Ñ€Ñƒ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð»ÑƒÑ‡Ð¸Ñ‚ÑŒ ÑÑ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸ÑŽ:",
        bank:"Ð’Ñ‹Ð±ÐµÑ€Ð¸ ÑÐ²Ð¾Ð¹ Ð±Ð°Ð½Ðº:",
        under:"ðŸ’µ ÐœÐµÐ½ÑŒÑˆÐµ 5 $",
        over:"ðŸ’° ÐžÑ‚ 5 $ Ð¸ Ð²Ñ‹ÑˆÐµ",
        back:"â† ÐÐ°Ð·Ð°Ð´",
        get:"ÐŸÐžÐ›Ð£Ð§Ð˜Ð¢Ð¬ Ð¡Ð˜Ð“ÐÐÐ›",
        more:"ÐÑƒÐ¶Ð½Ð° ÐµÑ‰Ñ‘? Ð’Ñ‹Ð±ÐµÑ€Ð¸ Ð¸Ð³Ñ€Ñƒ ÑÐ½Ð¾Ð²Ð° ðŸ‘‡",
        online:"Online ÑÐµÐ¹Ñ‡Ð°Ñ:",
        support:"ðŸ›Ÿ Ð¡ÐÐŸÐŸÐžÐ Ð¢",
        signalFor:(t)=>`Ð¡Ð¸Ð³Ð½Ð°Ð» Ð½Ð° ${t}`,
        crashHint:"Ð‘Ð»Ð¸Ð¶Ð°Ð¹ÑˆÐ°Ñ Ñ€Ð°Ð·Ð´Ð°Ñ‡Ð° (~3 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹). Ð˜Ð³Ñ€Ð°ÐµÐ¼ Ð°ÐºÐºÑƒÑ€Ð°Ñ‚Ð½Ð¾, Ð±ÐµÐ· all-in.",
        diffTitle:"Ð¡Ð»Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ:",
        diff:{ easy:"Ð›Ñ‘Ð³ÐºÐ°Ñ", normal:"ÐÐ¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ð°Ñ", hard:"Ð–Ñ‘ÑÑ‚ÐºÐ°Ñ" }
      },
      es:{
        brand:"ASTRAMIND AI",
        title:"SEÃ‘ALES IA",
        sub:"Elige el juego para el que quieres seÃ±ales.",
        choose:"Elige un juego para recibir una estrategia:",
        bank:"Elige tu banca:",
        under:"ðŸ’µ Menos de $5",
        over:"ðŸ’° Desde $5 o mÃ¡s",
        back:"â† AtrÃ¡s",
        get:"OBTENER SEÃ‘AL",
        more:"Â¿Quieres otra? Elige un juego de nuevo ðŸ‘‡",
        online:"En lÃ­nea ahora:",
        support:"ðŸ›Ÿ SOPORTE",
        signalFor:(t)=>`SeÃ±al para ${t}`,
        crashHint:"Ronda mÃ¡s cercana (~3 minutos). Juega tranquilo, sin all-in.",
        diffTitle:"Dificultad:",
        diff:{ easy:"FÃ¡cil", normal:"Normal", hard:"DifÃ­cil" }
      },
      pt:{
        brand:"ASTRAMIND AI",
        title:"SINAIS IA",
        sub:"Escolhe o jogo para o qual queres sinais.",
        choose:"Escolhe um jogo para receber uma estratÃ©gia:",
        bank:"Escolhe a tua banca:",
        under:"ðŸ’µ Menos de $5",
        over:"ðŸ’° A partir de $5 ou mais",
        back:"â† Voltar",
        get:"PEGAR SINAL",
        more:"Quer mais um? Escolhe um jogo de novo ðŸ‘‡",
        online:"Online agora:",
        support:"ðŸ›Ÿ SUPORTE",
        signalFor:(t)=>`Sinal para ${t}`,
        crashHint:"Rodada mais prÃ³xima (~3 minutos). Joga calmo, sem all-in.",
        diffTitle:"Dificuldade:",
        diff:{ easy:"FÃ¡cil", normal:"Normal", hard:"DifÃ­cil" }
      },
      fr:{
        brand:"ASTRAMIND AI",
        title:"SIGNAUX IA",
        sub:"Choisis le jeu pour lequel tu veux des signaux.",
        choose:"Choisis un jeu pour obtenir une stratÃ©gie :",
        bank:"Choisis ta bankroll :",
        under:"ðŸ’µ Moins de 5$",
        over:"ðŸ’° Ã€ partir de 5$ et plus",
        back:"â† Retour",
        get:"OBTENIR UN SIGNAL",
        more:"Besoin dâ€™un autre ? Choisis un jeu Ã  nouveau ðŸ‘‡",
        online:"En ligne :",
        support:"ðŸ›Ÿ SUPPORT",
        signalFor:(t)=>`Signal pour ${t}`,
        crashHint:"Prochaine manche (~3 minutes). Joue calme, pas de all-in.",
        diffTitle:"DifficultÃ© :",
        diff:{ easy:"Facile", normal:"Normal", hard:"Difficile" }
      }
    };

    // ===== Ð˜Ð³Ñ€Ñ‹ (Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ñ‹ Ð² 5 ÑÐ·Ñ‹ÐºÐ¾Ð²) =====
    const GAMES = [
      { key:"gates", icon:"âš¡", type:"slot",
        title:{en:"Gates of Olympus", ru:"Gates of Olympus", es:"Gates of Olympus", pt:"Gates of Olympus", fr:"Gates of Olympus"},
        sub:{en:"Low / mid risk grind", ru:"ÐÐ¸Ð·ÐºÐ¸Ð¹ / ÑÑ€ÐµÐ´Ð½Ð¸Ð¹ Ñ€Ð¸ÑÐº", es:"Riesgo bajo / medio", pt:"Risco baixo / mÃ©dio", fr:"Risque faible / moyen"},
        tag:{en:"SLOT Â· GRIND", ru:"SLOT Â· GRIND", es:"SLOT Â· GRIND", pt:"SLOT Â· GRIND", fr:"SLOT Â· GRIND"}
      },
      { key:"sweet", icon:"ðŸ¬", type:"slot",
        title:{en:"Sweet Bonanza", ru:"Sweet Bonanza", es:"Sweet Bonanza", pt:"Sweet Bonanza", fr:"Sweet Bonanza"},
        sub:{en:"Candy spins & multipliers", ru:"Ð¡Ð»Ð°Ð´ÐºÐ¸Ðµ ÑÐ¿Ð¸Ð½Ñ‹ Ð¸ Ð¸ÐºÑÑ‹", es:"Giros y multiplicadores", pt:"Giros e multiplicadores", fr:"Spins et multiplicateurs"},
        tag:{en:"SLOT Â· MULTIPLIERS", ru:"SLOT Â· MULTIPLIERS", es:"SLOT Â· MULTIPLIERS", pt:"SLOT Â· MULTIPLIERS", fr:"SLOT Â· MULTIPLIERS"}
      },
      { key:"dog", icon:"ðŸ¶", type:"slot",
        title:{en:"Dog House Megaways", ru:"Dog House Megaways", es:"Dog House Megaways", pt:"Dog House Megaways", fr:"Dog House Megaways"},
        sub:{en:"High volatility spins", ru:"Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ Ð²Ð¾Ð»Ð°Ñ‚Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ", es:"Alta volatilidad", pt:"Alta volatilidade", fr:"Forte volatilitÃ©"},
        tag:{en:"SLOT Â· MEGAWAYS", ru:"SLOT Â· MEGAWAYS", es:"SLOT Â· MEGAWAYS", pt:"SLOT Â· MEGAWAYS", fr:"SLOT Â· MEGAWAYS"}
      },
      { key:"sugar", icon:"ðŸ­", type:"slot",
        title:{en:"Sugar Rush", ru:"Sugar Rush", es:"Sugar Rush", pt:"Sugar Rush", fr:"Sugar Rush"},
        sub:{en:"Bonus series setup", ru:"Ð¡ÐµÑ‚Ð°Ð¿ Ð½Ð° ÑÐµÑ€Ð¸Ð¸ Ð±Ð¾Ð½ÑƒÑÐ¾Ð²", es:"Setup de bonos", pt:"Setup de bÃ´nus", fr:"Setup de bonus"},
        tag:{en:"SLOT Â· SERIES", ru:"SLOT Â· SERIES", es:"SLOT Â· SERIES", pt:"SLOT Â· SERIES", fr:"SLOT Â· SERIES"}
      },
      { key:"aviator", icon:"âœˆï¸", type:"crash",
        title:{en:"Aviator", ru:"Aviator", es:"Aviator", pt:"Aviator", fr:"Aviator"},
        sub:{en:"Crash game, hunting x", ru:"ÐšÑ€Ð°Ñˆ, Ð»Ð¾Ð²Ð¸Ð¼ Ð¸ÐºÑÑ‹", es:"Juego crash, buscar x", pt:"Jogo crash, buscar x", fr:"Jeu crash, chercher x"},
        tag:{en:"CRASH Â· X", ru:"CRASH Â· X", es:"CRASH Â· X", pt:"CRASH Â· X", fr:"CRASH Â· X"}
      },
      { key:"chicken", icon:"ðŸ”", type:"crash",
        title:{en:"Chicken Road", ru:"Chicken Road", es:"Chicken Road", pt:"Chicken Road", fr:"Chicken Road"},
        sub:{en:"Crash with risk levels", ru:"ÐšÑ€Ð°Ñˆ Ñ ÑƒÑ€Ð¾Ð²Ð½ÑÐ¼Ð¸ Ñ€Ð¸ÑÐºÐ°", es:"Crash con niveles", pt:"Crash com nÃ­veis", fr:"Crash avec niveaux"},
        tag:{en:"CRASH Â· LEVELS", ru:"CRASH Â· LEVELS", es:"CRASH Â· LEVELS", pt:"CRASH Â· LEVELS", fr:"CRASH Â· LEVELS"}
      },
    ];

    // ===== Ð¡Ñ‚Ñ€Ð°Ñ‚ÐµÐ³Ð¸Ð¸ (Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´Ñ‹ Ð² 5 ÑÐ·Ñ‹ÐºÐ¾Ð²) =====
    const STRATS = {
      gates:{
        low:{
          en:[
            "1) 15 spins @ $0.10\n2) 10 spins @ $0.20\n3) If itâ€™s cold â€” stop and switch.\nStop-loss: âˆ’40% from start.",
            "1) 3 short sessions: 10 spins @ $0.10 (pause 2â€“3 min)\n2) If you catch momentum â€” continue 20â€“30 spins.\n3) No action â€” exit."
          ],
          ru:[
            "1) 15 ÑÐ¿Ð¸Ð½Ð¾Ð² Ð¿Ð¾ 0.10 $\n2) 10 ÑÐ¿Ð¸Ð½Ð¾Ð² Ð¿Ð¾ 0.20 $\n3) Ð•ÑÐ»Ð¸ Â«Ñ…Ð¾Ð»Ð¾Ð´Ð½Ð¾Â» â€” ÑÑ‚Ð¾Ð¿ Ð¸ Ð¼ÐµÐ½ÑÐ¹ ÑÐ»Ð¾Ñ‚.\nÐ¡Ñ‚Ð¾Ð¿-Ð»Ð¾ÑÑ: âˆ’40% Ð¾Ñ‚ ÑÑ‚Ð°Ñ€Ñ‚Ð°.",
            "1) 3 ÐºÐ¾Ñ€Ð¾Ñ‚ÐºÐ¸Ñ… Ð·Ð°Ñ…Ð¾Ð´Ð° Ð¿Ð¾ 10 ÑÐ¿Ð¸Ð½Ð¾Ð² Ð½Ð° 0.10 $ (Ð¿Ð°ÑƒÐ·Ð° 2â€“3 Ð¼Ð¸Ð½)\n2) ÐŸÐ¾Ð¹Ð¼Ð°Ð» Ð´Ð²Ð¸Ð¶ÑƒÑ…Ñƒ â€” Ð´Ð¾ÐºÑ€ÑƒÑ‚Ð¸ ÐµÑ‰Ñ‘ 20â€“30.\n3) ÐŸÑƒÑÑ‚Ð¾ â€” Ð²Ñ‹Ñ…Ð¾Ð´."
          ],
          es:[
            "1) 15 giros @ $0.10\n2) 10 giros @ $0.20\n3) Si estÃ¡ â€œfrÃ­oâ€ â€” para y cambia.\nStop-loss: âˆ’40% del inicio.",
            "1) 3 sesiones cortas: 10 giros @ $0.10 (pausa 2â€“3 min)\n2) Si hay ritmo â€” sigue 20â€“30 giros.\n3) Sin seÃ±ales â€” sal."
          ],
          pt:[
            "1) 15 giros @ $0.10\n2) 10 giros @ $0.20\n3) Se estiver â€œfrioâ€ â€” para e troca.\nStop-loss: âˆ’40% do inÃ­cio.",
            "1) 3 sessÃµes curtas: 10 giros @ $0.10 (pausa 2â€“3 min)\n2) Se tiver ritmo â€” continua 20â€“30 giros.\n3) Sem aÃ§Ã£o â€” sai."
          ],
          fr:[
            "1) 15 spins Ã  $0.10\n2) 10 spins Ã  $0.20\n3) Si câ€™est â€œfroidâ€ â€” stop et change.\nStop-loss : âˆ’40% du dÃ©part.",
            "1) 3 petites sessions : 10 spins Ã  $0.10 (pause 2â€“3 min)\n2) Si Ã§a bouge â€” continue 20â€“30 spins.\n3) Rien â€” tu sors."
          ]
        },
        high:{
          en:[
            "1) 25 spins @ $0.20â€“0.40\n2) If multipliers are frequent â€” try a small bonus buy.\n3) Hit x150+? Close session.",
            "1) Cycles: 30 spins â†’ evaluate\n2) No x20+ in a cycle? Switch.\n3) Big win (x300+) = stop."
          ],
          ru:[
            "1) 25 ÑÐ¿Ð¸Ð½Ð¾Ð² Ð¿Ð¾ 0.20â€“0.40 $\n2) Ð•ÑÐ»Ð¸ Ð¼Ð½Ð¾Ð¶Ð¸Ñ‚ÐµÐ»Ð¸ Ñ‡Ð°ÑÑ‚Ñ‹Ðµ â€” Ð¼Ð¾Ð¶Ð½Ð¾ 1 Ð¿Ð¾ÐºÑƒÐ¿ÐºÑƒ Ð±Ð¾Ð½ÑƒÑÐ° (Ð¼Ð°Ð»Ñ‹Ð¹ %).\n3) ÐŸÐ¾Ð¹Ð¼Ð°Ð» x150+ â€” Ð·Ð°ÐºÑ€Ñ‹Ð²Ð°Ð¹ ÑÐµÑÑÐ¸ÑŽ.",
            "1) Ð¦Ð¸ÐºÐ»Ñ‹: 30 ÑÐ¿Ð¸Ð½Ð¾Ð² â†’ Ð¾Ñ†ÐµÐ½ÐºÐ°\n2) ÐÐµÑ‚ x20+ Ð·Ð° Ñ†Ð¸ÐºÐ» â€” Ð¼ÐµÐ½ÑÐ¹ ÑÐ»Ð¾Ñ‚.\n3) Ð–Ð¸Ñ€Ð½Ñ‹Ð¹ Ð·Ð°Ð½Ð¾Ñ (x300+) = ÑÑ‚Ð¾Ð¿."
          ],
          es:[
            "1) 25 giros @ $0.20â€“0.40\n2) Si hay multiplicadores â€” prueba 1 compra de bonus (pequeÃ±o %).\n3) x150+? Cierra sesiÃ³n.",
            "1) Ciclos: 30 giros â†’ evaluar\n2) Sin x20+ en el ciclo â€” cambia.\n3) Gran win (x300+) = stop."
          ],
          pt:[
            "1) 25 giros @ $0.20â€“0.40\n2) Se os multiplicadores estiverem vindo â€” 1 compra de bÃ´nus (pequeno %).\n3) x150+? Fecha a sessÃ£o.",
            "1) Ciclos: 30 giros â†’ avaliar\n2) Sem x20+ no ciclo â€” troca.\n3) Win grande (x300+) = stop."
          ],
          fr:[
            "1) 25 spins Ã  $0.20â€“0.40\n2) Si les multiplicateurs sortent â€” 1 achat de bonus (petit %).\n3) x150+ ? Ferme la session.",
            "1) Cycles : 30 spins â†’ Ã©valuer\n2) Pas de x20+ sur le cycle â€” change.\n3) Gros win (x300+) = stop."
          ]
        }
      },

      sweet:{
        low:{
          en:[
            "1) 20 spins @ $0.10\n2) If dead â€” pause 3 minutes\n3) x50+ â€” lock profit, donâ€™t chase."
          ],
          ru:[
            "1) 20 ÑÐ¿Ð¸Ð½Ð¾Ð² Ð¿Ð¾ 0.10 $\n2) Ð•ÑÐ»Ð¸ Ð¿ÑƒÑÑ‚Ð¾ â€” Ð¿Ð°ÑƒÐ·Ð° 3 Ð¼Ð¸Ð½ÑƒÑ‚Ñ‹\n3) x50+ â€” Ñ„Ð¸ÐºÑÐ¸Ñ€ÑƒÐ¹, Ð½Ðµ Ð¶Ð°Ð´Ð½Ð¸Ñ‡Ð°Ð¹."
          ],
          es:[
            "1) 20 giros @ $0.10\n2) Si estÃ¡ muerto â€” pausa 3 minutos\n3) x50+ â€” asegura ganancia."
          ],
          pt:[
            "1) 20 giros @ $0.10\n2) Se estiver morto â€” pausa 3 minutos\n3) x50+ â€” trava o lucro."
          ],
          fr:[
            "1) 20 spins Ã  $0.10\n2) Si câ€™est mort â€” pause 3 minutes\n3) x50+ â€” sÃ©curise le profit."
          ]
        },
        high:{
          en:[
            "1) 20 spins @ $0.20â€“0.40\n2) Bonus x100+ â€” cut bet in half\n3) Max 3 bonus buys per session."
          ],
          ru:[
            "1) 20 ÑÐ¿Ð¸Ð½Ð¾Ð² Ð¿Ð¾ 0.20â€“0.40 $\n2) Ð‘Ð¾Ð½ÑƒÑ x100+ â€” Ñ€ÐµÐ¶ÑŒ ÑÑ‚Ð°Ð²ÐºÑƒ Ð²Ð´Ð²Ð¾Ðµ\n3) ÐœÐ°ÐºÑ 3 Ð¿Ð¾ÐºÑƒÐ¿ÐºÐ¸ Ð±Ð¾Ð½ÑƒÑÐ° Ð·Ð° ÑÐµÑÑÐ¸ÑŽ."
          ],
          es:[
            "1) 20 giros @ $0.20â€“0.40\n2) Bonus x100+ â€” baja la apuesta a la mitad\n3) MÃ¡x 3 compras de bonus."
          ],
          pt:[
            "1) 20 giros @ $0.20â€“0.40\n2) BÃ´nus x100+ â€” reduz a aposta pela metade\n3) MÃ¡x 3 compras de bÃ´nus."
          ],
          fr:[
            "1) 20 spins Ã  $0.20â€“0.40\n2) Bonus x100+ â€” divise la mise par 2\n3) Max 3 achats de bonus."
          ]
        }
      },

      dog:{
        low:{
          en:[
            "High volatility.\n1) 2â€“3 runs: 10â€“15 spins at minimum\n2) No wilds/bonus â€” exit and switch."
          ],
          ru:[
            "Ð’Ñ‹ÑÐ¾ÐºÐ°Ñ Ð²Ð¾Ð»Ð°Ñ‚Ð¸Ð»ÑŒÐ½Ð¾ÑÑ‚ÑŒ.\n1) 2â€“3 Ð·Ð°Ñ…Ð¾Ð´Ð° Ð¿Ð¾ 10â€“15 ÑÐ¿Ð¸Ð½Ð¾Ð² Ð½Ð° Ð¼Ð¸Ð½Ð¸Ð¼Ð°Ð»ÐºÐµ\n2) ÐÐµÑ‚ Ð²Ð°Ð¹Ð»Ð´Ð¾Ð²/Ð±Ð¾Ð½ÑƒÑÐ° â€” Ð²Ñ‹Ñ…Ð¾Ð´ Ð¸ ÑÐ¼ÐµÐ½Ð° ÑÐ»Ð¾Ñ‚Ð°."
          ],
          es:[
            "Alta volatilidad.\n1) 2â€“3 rondas: 10â€“15 giros al mÃ­nimo\n2) Sin wilds/bonus â€” salir y cambiar."
          ],
          pt:[
            "Alta volatilidade.\n1) 2â€“3 rodadas: 10â€“15 giros no mÃ­nimo\n2) Sem wild/bonus â€” sai e troca."
          ],
          fr:[
            "Forte volatilitÃ©.\n1) 2â€“3 runs : 10â€“15 spins au minimum\n2) Pas de wild/bonus â€” tu sors et tu changes."
          ]
        },
        high:{
          en:[
            "1) Bet = 1â€“3% of bankroll\n2) Loss limit for this slot: 10â€“15%\n3) Hit the limit â€” STOP, no chasing."
          ],
          ru:[
            "1) Ð¡Ñ‚Ð°Ð²ÐºÐ° = 1â€“3% Ð¾Ñ‚ Ð±Ð°Ð½ÐºÐ°\n2) Ð›Ð¸Ð¼Ð¸Ñ‚ Ð¿Ð¾Ñ‚ÐµÑ€ÑŒ Ð½Ð° ÑÐ»Ð¾Ñ‚: 10â€“15%\n3) Ð’Ñ‹Ð±Ð¸Ð» Ð»Ð¸Ð¼Ð¸Ñ‚ â€” Ð¡Ð¢ÐžÐŸ, Ð±ÐµÐ· Ð´Ð¾Ð³Ð¾Ð½Ð¾Ð²."
          ],
          es:[
            "1) Apuesta = 1â€“3% de tu banca\n2) LÃ­mite de pÃ©rdida: 10â€“15%\n3) Llegaste al lÃ­mite â€” STOP."
          ],
          pt:[
            "1) Aposta = 1â€“3% da banca\n2) Limite de perda: 10â€“15%\n3) Bateu o limite â€” STOP."
          ],
          fr:[
            "1) Mise = 1â€“3% de la bankroll\n2) Limite de perte : 10â€“15%\n3) Limite touchÃ© â€” STOP."
          ]
        }
      },

      sugar:{
        low:{
          en:[
            "1) 20 spins @ $0.10\n2) If clusters are active â€” continue\n3) If dead â€” switch game."
          ],
          ru:[
            "1) 20 ÑÐ¿Ð¸Ð½Ð¾Ð² Ð¿Ð¾ 0.10 $\n2) Ð•ÑÐ»Ð¸ ÐºÐ»Ð°ÑÑ‚ÐµÑ€Ñ‹ Ð°ÐºÑ‚Ð¸Ð²Ð½Ñ‹Ðµ â€” Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð°Ð¹\n3) Ð•ÑÐ»Ð¸ Ñ‚Ð¸ÑˆÐ¸Ð½Ð° â€” Ð¼ÐµÐ½ÑÐ¹ Ð¸Ð³Ñ€Ñƒ."
          ],
          es:[
            "1) 20 giros @ $0.10\n2) Si hay actividad â€” continÃºa\n3) Si estÃ¡ muerto â€” cambia de juego."
          ],
          pt:[
            "1) 20 giros @ $0.10\n2) Se estiver ativo â€” continua\n3) Se estiver morto â€” troca o jogo."
          ],
          fr:[
            "1) 20 spins Ã  $0.10\n2) Si câ€™est actif â€” continue\n3) Si câ€™est mort â€” change de jeu."
          ]
        },
        high:{
          en:[
            "1) Max 40â€“50 spins per session\n2) Bonus x200+ â€” lock profit and exit."
          ],
          ru:[
            "1) ÐœÐ°ÐºÑ 40â€“50 ÑÐ¿Ð¸Ð½Ð¾Ð² Ð·Ð° ÑÐµÑÑÐ¸ÑŽ\n2) Ð‘Ð¾Ð½ÑƒÑ x200+ â€” Ñ„Ð¸ÐºÑÐ¸Ñ€ÑƒÐ¹ Ð¸ Ð²Ñ‹Ñ…Ð¾Ð´."
          ],
          es:[
            "1) MÃ¡x 40â€“50 giros por sesiÃ³n\n2) Bonus x200+ â€” asegurar y salir."
          ],
          pt:[
            "1) MÃ¡x 40â€“50 giros por sessÃ£o\n2) BÃ´nus x200+ â€” trava e sai."
          ],
          fr:[
            "1) Max 40â€“50 spins par session\n2) Bonus x200+ â€” sÃ©curise et sors."
          ]
        }
      }
    };

    // ===== Telegram =====
    const tg = window.Telegram && window.Telegram.WebApp ? window.Telegram.WebApp : null;
    if (tg) { tg.ready(); tg.expand(); }
    else { document.getElementById("outsideHint").style.display = "block"; }

    function detectLang(){
      const code = tg?.initDataUnsafe?.user?.language_code?.toLowerCase() || "en";
      if (code.startsWith("ru")) return "ru";
      if (code.startsWith("es")) return "es";
      if (code.startsWith("pt")) return "pt";
      if (code.startsWith("fr")) return "fr";
      return "en";
    }

    let lang = detectLang();
    if (!LANGS.includes(lang)) lang = "en";

    function T(){ return I18N[lang]; }

    function openSupport(){
      const link = `https://t.me/${SUPPORT_USERNAME}`;
      if (tg && tg.openTelegramLink) tg.openTelegramLink(link);
      else window.open(link, "_blank");
    }

    document.getElementById("supportBtn").addEventListener("click", openSupport);

    // ===== ONLINE COUNTER =====
    (function(){
      const label = document.getElementById("onlineLabel");
      label.textContent = T().online;

      const el = document.getElementById("onlineCount");
      let cur = Math.floor(1700 + Math.random() * (3000 - 1700));
      const fmt = (n)=> n.toLocaleString("en-US").replace(/,/g," ");
      el.textContent = fmt(cur);

      setInterval(()=>{
        const dir = Math.random() < 0.5 ? -1 : 1;
        const step = Math.floor(15 + Math.random() * (80 - 15));
        cur += dir * step;
        if (cur < 1700) cur = 1715 + Math.floor(Math.random()*40);
        if (cur > 3000) cur = 2980 - Math.floor(Math.random()*40);
        el.textContent = fmt(cur);
      }, 3000);
    })();

    // ===== APP =====
    const app = document.getElementById("app");
    let screen = "home"; // home | bank | strat | crash
    let selected = null;
    let bankroll = null; // low | high
    let chickenDiff = "normal"; // easy | normal | hard

    function renderHeader(){
      return `
        <div class="brandTop">${T().brand}</div>
        <div class="title">${T().title}</div>
        <div class="sub">${T().sub}</div>
        <div class="build">${BUILD}</div>
        <div class="langRow">
          ${["EN","RU","ES","PT","FR"].map(code=>{
            const lc = code.toLowerCase();
            return `<button class="pill ${lang===lc?'active':''}" data-lang="${lc}">${code}</button>`;
          }).join("")}
        </div>
      `;
    }

    function renderHome(){
      screen = "home";
      selected = null;
      bankroll = null;

      app.innerHTML = `
        ${renderHeader()}
        <div class="sectionTitle">${T().choose}</div>
        ${GAMES.map(g=>`
          <div class="game" data-game="${g.key}">
            <div class="gameLeft">
              <div class="icon">${g.icon}</div>
              <div>
                <p class="gTitle">${g.title[lang]}</p>
                <p class="gSub">${g.sub[lang]}</p>
              </div>
            </div>
            <div class="tag">${g.tag[lang]}</div>
          </div>
        `).join("")}
      `;

      bindLangButtons();
      bindGameButtons();
      document.getElementById("supportBtn").textContent = T().support;
      document.getElementById("onlineLabel").textContent = T().online;
    }

    function renderBank(){
      screen = "bank";
      app.innerHTML = `
        ${renderHeader()}
        <button class="btn btnGhost" id="backHome">${T().back}</button>
        <div class="sectionTitle" style="margin-top:14px;">${selected.title[lang]} â€” ${T().bank}</div>
        <div class="btnRow">
          <button class="btn btnGhost" id="bankLow">${T().under}</button>
          <button class="btn btnPrimary" id="bankHigh">${T().over}</button>
          <button class="btn btnGhost" id="supportIn">${T().support}</button>
        </div>
      `;

      bindLangButtons();
      document.getElementById("backHome").onclick = renderHome;
      document.getElementById("bankLow").onclick = ()=>{ bankroll="low"; renderStrat(); };
      document.getElementById("bankHigh").onclick = ()=>{ bankroll="high"; renderStrat(); };
      document.getElementById("supportIn").onclick = openSupport;

      document.getElementById("supportBtn").textContent = T().support;
      document.getElementById("onlineLabel").textContent = T().online;
    }

    function pickStrategy(){
      const pack = STRATS[selected.key];
      if (!pack) return "No strategies yet.";
      const arr = pack[bankroll][lang] || [];
      if (!arr.length) return "No strategies yet.";
      return arr[Math.floor(Math.random()*arr.length)];
    }

    function renderStrat(){
      screen = "strat";
      const s = pickStrategy();

      app.innerHTML = `
        ${renderHeader()}
        <button class="btn btnGhost" id="backBank">${T().back}</button>
        <div class="sectionTitle" style="margin-top:14px;">${selected.title[lang]} â€” ${T().get}</div>
        <div class="box">${s}</div>
        <div class="btnRow">
          <button class="btn btnPrimary" id="reroll">${T().get}</button>
          <button class="btn btnGhost" id="more">${T().more}</button>
          <button class="btn btnGhost" id="supportIn">${T().support}</button>
        </div>
      `;

      bindLangButtons();
      document.getElementById("backBank").onclick = renderBank;
      document.getElementById("reroll").onclick = renderStrat;
      document.getElementById("more").onclick = renderHome;
      document.getElementById("supportIn").onclick = openSupport;

      document.getElementById("supportBtn").textContent = T().support;
      document.getElementById("onlineLabel").textContent = T().online;
    }

    function futureTime(minAhead=3){
      const d = new Date(Date.now()+minAhead*60*1000);
      const hh = String(d.getHours()).padStart(2,"0");
      const mm = String(d.getMinutes()).padStart(2,"0");
      return `${hh}:${mm}`;
    }

    function rndCoeff(gameKey){
      let v;
      if (gameKey === "chicken") {
        const r = Math.random();
        if (chickenDiff === "easy") {
          v = (r < 0.92) ? (1.10 + Math.random()*(5-1.10)) : (5 + Math.random()*(20-5));
        } else if (chickenDiff === "hard") {
          v = (r < 0.45) ? (1.10 + Math.random()*(20-1.10)) : (20 + Math.random()*(120-20));
        } else {
          v = (r < 0.78) ? (1.10 + Math.random()*(20-1.10)) : (20 + Math.random()*(100-20));
        }
      } else {
        const r = Math.random();
        v = (r < 0.80) ? (1.10 + Math.random()*(20-1.10)) : (20 + Math.random()*(100-20));
      }
      return (Math.round(v*100)/100).toFixed(2);
    }

    function renderCrash(){
      screen = "crash";
      const coeff = rndCoeff(selected.key);
      const time = futureTime(3);

      app.innerHTML = `
        ${renderHeader()}
        <button class="btn btnGhost" id="backHome">${T().back}</button>
        <div class="sectionTitle" style="margin-top:14px;">${selected.title[lang]} â€” ${T().get}</div>

        ${selected.key === "chicken" ? `
          <div class="sectionTitle" style="margin-top:10px;">${T().diffTitle}</div>
          <div class="diffRow">
            <button class="diffPill ${chickenDiff==='easy'?'active':''}" data-diff="easy">${T().diff.easy}</button>
            <button class="diffPill ${chickenDiff==='normal'?'active':''}" data-diff="normal">${T().diff.normal}</button>
            <button class="diffPill ${chickenDiff==='hard'?'active':''}" data-diff="hard">${T().diff.hard}</button>
          </div>
        ` : ""}

        <div class="crashCircle">
          <div class="crashInner">
            <div class="coeff">x${coeff}</div>
            <div class="small">${T().signalFor(time)}</div>
          </div>
        </div>

        <div class="muted">${T().crashHint}</div>

        <div class="btnRow" style="justify-content:center;">
          <button class="btn btnPrimary" id="refresh">${T().get}</button>
          <button class="btn btnGhost" id="supportIn">${T().support}</button>
          <button class="btn btnGhost" id="more">${T().more}</button>
        </div>
      `;

      bindLangButtons();
      document.getElementById("backHome").onclick = renderHome;
      document.getElementById("refresh").onclick = renderCrash;
      document.getElementById("supportIn").onclick = openSupport;
      document.getElementById("more").onclick = renderHome;

      if (selected.key === "chicken") {
        document.querySelectorAll(".diffPill").forEach(btn=>{
          btn.onclick = ()=>{
            chickenDiff = btn.getAttribute("data-diff");
            renderCrash();
          };
        });
      }

      document.getElementById("supportBtn").textContent = T().support;
      document.getElementById("onlineLabel").textContent = T().online;
    }

    function bindLangButtons(){
      app.querySelectorAll("[data-lang]").forEach(btn=>{
        btn.onclick = ()=>{
          lang = btn.getAttribute("data-lang");
          // Ð¿ÐµÑ€ÐµÑ€Ð¸ÑÐ¾Ð²Ñ‹Ð²Ð°ÐµÐ¼ Ñ‚ÐµÐºÑƒÑ‰Ð¸Ð¹ ÑÐºÑ€Ð°Ð½
          if (screen === "home") renderHome();
          else if (screen === "bank") renderBank();
          else if (screen === "strat") renderStrat();
          else renderCrash();
        };
      });
    }

    function bindGameButtons(){
      app.querySelectorAll("[data-game]").forEach(row=>{
        row.onclick = ()=>{
          const key = row.getAttribute("data-game");
          selected = GAMES.find(g=>g.key===key);
          if (!selected) return;
          if (selected.type === "slot") renderBank();
          else renderCrash();
        };
      });
    }

    // init
    renderHome();
  </script>
</body>
</html>
